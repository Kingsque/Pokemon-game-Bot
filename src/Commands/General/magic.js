module.exports = {
    name: 'magic',
    aliases: ['magic'],
    category: 'general',
    exp: 0,
    cool: 20, // Cooldown in seconds
    react: "ðŸ¥",
    usage: 'Use :magic to check bot',
    description: 'Experience a magical journey.',
    async execute(client, arg, M) { 
        try {
            // Define scenes with their respective displays
            const scenes = {
                "rocket": [
                    [
                        "ðŸŒðŸš€ðŸŒ",
                        "ðŸŒðŸŒðŸŒ",
                        "ðŸŒðŸŒðŸŒ"
                    ],
                    [
                        "ðŸŒðŸš€ðŸŒ",
                        "ðŸŒðŸš€ðŸŒ",
                        "ðŸŒðŸŒðŸŒ"
                    ],
                    [
                        "ðŸŒðŸš€ðŸŒ",
                        "ðŸŒðŸš€ðŸŒ",
                        "ðŸŒðŸš€ðŸŒ"
                    ]
                ],
                "sky": [
                    [
                        "ðŸŒ§ï¸ðŸŒ§ï¸ðŸŒ§ï¸",
                        "ðŸŒ§ï¸ðŸŒ§ï¸ðŸŒ§ï¸",
                        "ðŸŒ§ï¸ðŸŒ§ï¸ðŸŒ§ï¸"
                    ],
                    [
                        "ðŸŒ¦ï¸ðŸŒ¦ï¸ðŸŒ§ï¸",
                        "ðŸŒ¦ï¸ðŸŒ¦ï¸ðŸŒ§ï¸",
                        "ðŸŒ§ï¸ðŸŒ§ï¸ðŸŒ§ï¸"
                    ],
                    [
                        "â›…â›…ðŸŒ¤ï¸",
                        "â›…â›…ðŸŒ¤ï¸",
                        "ðŸŒ¤ï¸ðŸŒ¤ï¸ðŸŒ¤ï¸"
                    ]
                ],
                "underocean": [
                    [
                        "ðŸŒŠðŸŒŠðŸ ðŸŒŠðŸŒŠ",
                        "ðŸŒŠðŸŸðŸ¬ðŸŸðŸŒŠ",
                        "ðŸšðŸŒŠðŸ³ðŸŒŠðŸš"
                    ],
                    [
                        "ðŸ ðŸ ðŸŸðŸŸðŸŸ",
                        "ðŸ™ðŸ™ðŸ™ðŸŸðŸ™",
                        "ðŸ¦‘ðŸ™ðŸ¦‘ðŸ™ðŸ¦‘"
                    ],
                    [
                        "ðŸ¦€ðŸ¦€ðŸ¦€ðŸ¦€ðŸ¦€",
                        "ðŸšðŸšðŸšðŸšðŸš",
                        "ðŸ¡ðŸ¡ðŸ¡ðŸ¡ðŸ¡"
                    ]
                ],
                "forest": [
                    [
                        "ðŸŒ²ðŸŒ²ðŸƒðŸŒ²ðŸŒ²",
                        "ðŸŒ³ðŸŒ³ðŸŒ³ðŸ‚ðŸŒ³",
                        "ðŸŒ²ðŸŒ²ðŸƒðŸŒ²ðŸŒ²"
                    ],
                    [
                        "ðŸŒ¿ðŸƒðŸ‚ðŸŒ³ðŸŒ³",
                        "ðŸðŸŒ²ðŸðŸ‚ðŸ",
                        "ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ³ðŸŒ³"
                    ],
                    [
                        "ðŸŒ°ðŸŒ°ðŸŒ°ðŸŒ°ðŸŒ°",
                        "ðŸ‚ðŸ‚ðŸ‚ðŸ‚ðŸ‚",
                        "ðŸ¦ŒðŸ¦ŒðŸ¦ŒðŸ¦ŒðŸ¦Œ"
                    ]
                ],
                "space": [
                    [
                        "ðŸŒŒâœ¨ðŸŒŒðŸš€ðŸŒŒ",
                        "ðŸš€ðŸŒŒðŸŒ ðŸŒ ðŸš€",
                        "ðŸŒŒðŸŒŒðŸŒŒðŸŒŒðŸŒŒ"
                    ],
                    [
                        "ðŸŒŒðŸŒŒðŸš€ðŸŒŒðŸŒŒ",
                        "ðŸš€ðŸŒŒðŸŒ ðŸŒ ðŸš€",
                        "ðŸŒŒðŸŒŒðŸŒŒðŸŒŒðŸŒŒ"
                    ],
                    [
                        "ðŸš€ðŸŒŒðŸŒ ðŸŒ ðŸš€",
                        "ðŸŒŒðŸŒŒðŸš€ðŸŒŒðŸŒŒ",
                        "ðŸŒŒðŸŒŒðŸŒŒðŸŒŒðŸŒŒ"
                    ]
                ],
                "city": [
                    [
                        "ðŸŒ†ðŸŒƒðŸŒ†",
                        "ðŸŒ†ðŸ™ï¸ðŸŒ†",
                        "ðŸŒƒðŸŒ†ðŸŒƒ"
                    ],
                    [
                        "ðŸŒ†ðŸŒ†ðŸŒƒ",
                        "ðŸŒ‡ðŸ™ï¸ðŸŒ†",
                        "ðŸŒƒðŸŒ†ðŸŒ†"
                    ],
                    [
                        "ðŸŒ†ðŸŒƒðŸŒƒ",
                        "ðŸŒ†ðŸŒ†ðŸŒ†",
                        "ðŸŒ†ðŸŒƒðŸŒƒ"
                    ]
                ],
                "winter": [
                    [
                        "â„ï¸â„ï¸â„ï¸",
                        "â„ï¸â„ï¸â„ï¸",
                        "â„ï¸â„ï¸â„ï¸"
                    ],
                    [
                        "â„ï¸â›„â„ï¸",
                        "â›„â„ï¸â›„",
                        "â„ï¸â›„â„ï¸"
                    ],
                    [
                        "â›„â„ï¸â›„",
                        "â„ï¸â›„â„ï¸",
                        "â›„â„ï¸â›„"
                    ]
                ],
                "oasis": [
                    [
                        "ðŸœï¸ðŸŒ´ðŸœï¸",
                        "ðŸŒµðŸï¸ðŸŒµ",
                        "ðŸœï¸ðŸŒ´ðŸœï¸"
                    ],
                    [
                        "ðŸŒ´ðŸœï¸ðŸŒ´",
                        "ðŸ–ï¸ðŸŒµðŸï¸",
                        "ðŸŒ´ðŸœï¸ðŸŒ´"
                    ],
                    [
                        "ðŸï¸ðŸœï¸ðŸï¸",
                        "ðŸŒ´ðŸŒµðŸŒ´",
                        "ðŸï¸ðŸœï¸ðŸï¸"
                    ]
                ],
                "mountain": [
                    [
                        "â›°ï¸ðŸ”ï¸ðŸ”ï¸â›°ï¸",
                        "ðŸŒ„ðŸžï¸ðŸžï¸ðŸŒ„",
                        "â›°ï¸ðŸ”ï¸ðŸ”ï¸â›°ï¸"
                    ],
                    [
                        "ðŸ”ï¸â›°ï¸ðŸ”ï¸â›°ï¸",
                        "ðŸžï¸ðŸŒ„ðŸŒ„ðŸžï¸",
                        "ðŸ”ï¸â›°ï¸ðŸ”ï¸â›°ï¸"
                    ],
                    [
                        "ðŸŒ„ðŸ”ï¸ðŸ”ï¸ðŸŒ„",
                        "ðŸžï¸â›°ï¸â›°ï¸ðŸžï¸",
                        "ðŸŒ„ðŸ”ï¸ðŸ”ï¸ðŸŒ„"
                    ]
                ],
                "enchanted": [
                    [
                        "ðŸ°ðŸŒ³ðŸ°",
                        "ðŸŒ²ðŸ°ðŸŒ²",
                        "ðŸ°ðŸŒ³ðŸ°"
                    ],
                    [
                        "ðŸŒ³ðŸŒ²ðŸ°ðŸŒ²",
                        "ðŸŒ²ðŸ°ðŸŒ²ðŸŒ³",
                        "ðŸ°ðŸŒ²ðŸŒ²ðŸ°"
                    ],
                    [
                        "ðŸŒ²ðŸ°ðŸŒ²ðŸŒ³",
                        "ðŸ°ðŸŒ²ðŸ°ðŸŒ²",
                        "ðŸŒ³ðŸ°ðŸŒ³ðŸŒ²"
                    ]
                ],
                "sunset-beach": [
                    [
                        "ðŸŒ…ðŸ–ï¸ðŸŒ…",
                        "ðŸ–ï¸ðŸŒŠðŸ–ï¸",
                        "ðŸŒ…ðŸ–ï¸ðŸŒ…"
                    ],
                    [
                        "ðŸ–ï¸ðŸŒŠðŸ–ï¸",
                        "ðŸŒ…ðŸ–ï¸ðŸŒ…",
                        "ðŸ–ï¸ðŸŒŠðŸ–ï¸"
                    ],
                    [
                        "ðŸŒ…ðŸ–ï¸ðŸŒ…",
                        "ðŸ–ï¸ðŸŒŠðŸ–ï¸",
                        "ðŸŒ…ðŸ–ï¸ðŸŒ…"
                    ]
                ],
                "mountain": [
                    [
                        "ðŸ”ï¸ðŸžï¸ðŸ”ï¸",
                        "ðŸ”ï¸ðŸ”ï¸ðŸ”ï¸",
                        "ðŸžï¸ðŸ”ï¸ðŸžï¸"
                    ],
                    [
                        "ðŸ”ï¸ðŸžï¸ðŸ”ï¸",
                        "ðŸŒ…ðŸŒ„ðŸŒ…",
                        "ðŸ”ï¸ðŸžï¸ðŸ”ï¸"
                    ],
                    [
                        "ðŸ”ï¸ðŸžï¸ðŸ”ï¸",
                        "ðŸ”ï¸ðŸ”ï¸ðŸ”ï¸",
                        "ðŸžï¸ðŸ”ï¸ðŸžï¸"
                    ]
                ],
                "meadow": [
                    [
                        "ðŸŒ ðŸŒ¾ðŸŒ ",
                        "ðŸŒ¿ðŸŒ¾ðŸŒ¿",
                        "ðŸŒ¾ðŸŒ ðŸŒ¾"
                    ],
                    [
                        "ðŸŒ¾ðŸŒ ðŸŒ¾",
                        "ðŸŒ¿ðŸŒ¾ðŸŒ¿",
                        "ðŸŒ ðŸŒ¾ðŸŒ "
                    ],
                    [
                        "ðŸŒ ðŸŒ¾ðŸŒ ",
                        "ðŸŒ¿ðŸŒ¾ðŸŒ¿",
                        "ðŸŒ¾ðŸŒ ðŸŒ¾"
                    ]
                ],
            };

            // If no argument provided, list all available scenes
            if (!arg) {
                const sceneNames = Object.keys(scenes).join(", ");
                return M.reply(`Available scenes: ${sceneNames}`);
            }

            // If scene provided, display its displays
            if (scenes[arg]) {
                let { key } = await M.reply("ðŸŒŒ Initiating magical scene...");

                // Display each scene's displays
                scenes[arg].forEach(async (display, index) => {
                    setTimeout(async () => {
                        await client.relayMessage(M.from, {
                            protocolMessage: {
                                key,
                                type: 14,
                                editedMessage: {
                                    conversation: display.join("\n")
                                }
                            }
                        }, {})
                    }, index * 5000); // Delay between each display
                });
            } else {
                return M.reply("Scene not found. Use :magic to check available scenes.");
            }
        } catch (error) {
            console.error('Error in executing magic command:', error);
            M.reply('An error occurred while executing the magic command.');
        }
    }
                        }
                
